resources:
  cluster_policies:
    dlt-policy:
      name: DLT Policy
      definition:
        cluster_type:
          type: fixed
          value: dlt
        num_workers:
          type: unlimited
          defaultValue: 3
          isOptional: true
        node_type_id:
          type: unlimited
          isOptional: true
        spark_version:
          type: unlimited
          hidden: true
    personal-compute:
      name: Personal Compute
      definition:
        node_type_id:
          type: allowlist
          values:
          - Standard_D4ds_v5
          - Standard_D8ds_v5
          - Standard_D16ds_v5
          - Standard_D4ds_v4
          - Standard_D8ds_v4
          - Standard_D16ds_v4
          - Standard_DS3_v2
          - Standard_DS4_v2
          - Standard_DS5_v2
          - Standard_NC4as_T4_v3
          defaultValue: Standard_D4ds_v5
        spark_version:
          type: unlimited
          defaultValue: auto:latest-ml
        runtime_engine:
          type: fixed
          value: STANDARD
          hidden: true
        num_workers:
          type: fixed
          value: 0
          hidden: true
        data_security_mode:
          type: allowlist
          values:
          - SINGLE_USER
          - LEGACY_SINGLE_USER
          - LEGACY_SINGLE_USER_STANDARD
          defaultValue: SINGLE_USER
          hidden: true
        driver_instance_pool_id:
          type: forbidden
          hidden: true
        cluster_type:
          type: fixed
          value: all-purpose
        instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.availability:
          type: fixed
          value: ON_DEMAND_AZURE
          hidden: true
        spark_conf.spark.databricks.cluster.profile:
          type: fixed
          value: singleNode
          hidden: true
        autotermination_minutes:
          type: unlimited
          defaultValue: 4320
          isOptional: true
      description: Use with small-to-medium data or libraries like pandas and scikit-learn.
        Spark runs in local mode.
    power-user-compute:
      name: Power User Compute
      definition:
        node_type_id:
          type: unlimited
          defaultValue: Standard_D4ds_v5
          isOptional: true
        spark_version:
          type: unlimited
          defaultValue: auto:latest-ml
        num_workers:
          type: forbidden
          hidden: true
        driver_instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.spot_bid_max_price:
          type: fixed
          value: -1
          hidden: true
        cluster_type:
          type: fixed
          value: all-purpose
        instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.availability:
          type: unlimited
          defaultValue: ON_DEMAND_AZURE
        spark_conf.spark.databricks.cluster.profile:
          type: forbidden
          hidden: true
        autoscale.min_workers:
          type: unlimited
          defaultValue: 2
        autotermination_minutes:
          type: unlimited
          defaultValue: 120
          isOptional: true
        autoscale.max_workers:
          type: unlimited
          defaultValue: 10
      description: Run advanced, complex data science projects with dedicated resources.
    shared-compute:
      name: Shared Compute
      definition:
        node_type_id:
          type: unlimited
          defaultValue: Standard_D8ds_v5
          isOptional: true
        spark_version:
          type: unlimited
          defaultValue: auto:latest-lts
        num_workers:
          type: forbidden
          hidden: true
        data_security_mode:
          type: fixed
          value: USER_ISOLATION
          hidden: true
        driver_instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.spot_bid_max_price:
          type: fixed
          value: -1
          hidden: true
        cluster_type:
          type: fixed
          value: all-purpose
        instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.availability:
          type: unlimited
          defaultValue: ON_DEMAND_AZURE
        spark_conf.spark.databricks.cluster.profile:
          type: forbidden
          hidden: true
        autoscale.min_workers:
          type: unlimited
          defaultValue: 2
        autotermination_minutes:
          type: unlimited
          defaultValue: 0
          isOptional: true
        autoscale.max_workers:
          type: unlimited
          defaultValue: 10
      description: Shared with teams for interactive data exploration, data analysis,
        and machine learning.
    job-compute:
      name: Job Compute
      definition:
        spark_conf.spark.databricks.cluster.profile:
          type: forbidden
          hidden: true
        spark_version:
          type: unlimited
          defaultValue: auto:latest-lts
        node_type_id:
          type: unlimited
          defaultValue: Standard_DS3_v2
          isOptional: true
        num_workers:
          type: unlimited
          defaultValue: 4
          isOptional: true
        azure_attributes.availability:
          type: unlimited
          defaultValue: SPOT_WITH_FALLBACK_AZURE
        azure_attributes.spot_bid_max_price:
          type: fixed
          value: 100
          hidden: true
        instance_pool_id:
          type: forbidden
          hidden: true
        driver_instance_pool_id:
          type: forbidden
          hidden: true
        cluster_type:
          type: fixed
          value: job
      description: General-purpose for running non-interactive workloads.
    legacy-shared-compute:
      name: Legacy Shared Compute
      definition:
        node_type_id:
          type: unlimited
          defaultValue: Standard_D8ds_v5
          isOptional: true
        spark_version:
          type: unlimited
          defaultValue: auto:latest-lts
        num_workers:
          type: forbidden
          hidden: true
        data_security_mode:
          type: unlimited
          defaultValue: NONE
          hidden: true
        driver_instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.spot_bid_max_price:
          type: fixed
          value: -1
          hidden: true
        cluster_type:
          type: fixed
          value: all-purpose
        instance_pool_id:
          type: forbidden
          hidden: true
        azure_attributes.availability:
          type: unlimited
          defaultValue: ON_DEMAND_AZURE
        spark_conf.spark.databricks.cluster.profile:
          type: forbidden
          hidden: true
        autoscale.min_workers:
          type: unlimited
          defaultValue: 2
        autotermination_minutes:
          type: unlimited
          defaultValue: 0
          isOptional: true
        autoscale.max_workers:
          type: unlimited
          defaultValue: 10
      description: Shared with teams for interactive data exploration, data analysis,
        and machine learning.
