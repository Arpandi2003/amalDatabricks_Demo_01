resources:
  jobs:
    '[dev-dab]-test-job-2':
      name: '[dev dab] test_job_2'
      tasks:
      - task_key: extraction
        run_if: ALL_SUCCESS
        notebook_task:
          notebook_path: bundles/test-2/extraction
          source: GIT
        job_cluster_key: test_job_cluster
        libraries:
        - maven:
            coordinates: com.databricks.labs:overwatch_2.12:0.7.1.3
        timeout_seconds: 0
        email_notifications: {}
      - task_key: gold
        depends_on:
        - task_key: silver
        run_if: ALL_SUCCESS
        notebook_task:
          notebook_path: bundles/test-2/gold
          source: GIT
        job_cluster_key: test_job_cluster
        libraries:
        - maven:
            coordinates: com.databricks.labs:overwatch_2.12:0.7.1.3
        - maven:
            coordinates: com.microsoft.azure:azure-eventhubs-spark_2.12:2.3.21
        - pypi:
            package: azure-storage-blob
        - pypi:
            package: paramiko
        timeout_seconds: 0
        email_notifications: {}
      - task_key: silver
        depends_on:
        - task_key: extraction
        run_if: ALL_SUCCESS
        notebook_task:
          notebook_path: bundles/test-2/silver
          source: GIT
        job_cluster_key: test_job_cluster
        libraries:
        - maven:
            coordinates: com.databricks.labs:overwatch_2.12:0.7.1.3
        - maven:
            coordinates: com.microsoft.azure:azure-eventhubs-spark_2.12:2.3.21
        timeout_seconds: 0
        email_notifications: {}
      schedule:
        quartz_cron_expression: 19 0 8 * * ?
        timezone_id: America/New_York
        pause_status: PAUSED
      email_notifications:
        on_failure:
        - vijayaramuprawin@avatest.in
      timeout_seconds: 0
      git_source:
        git_url: https://avacloudpoc@dev.azure.com/avacloudpoc/DataOps/_git/azure_databricks_asset_bundles
        git_provider: azureDevOpsServices
        git_branch: main
      max_concurrent_runs: 4
